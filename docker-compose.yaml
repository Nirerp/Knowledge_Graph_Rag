services:
  qdrant: # access dashboard at http://localhost:6333/dashboard
    image: qdrant/qdrant:latest
    container_name: qdrant
    ports:
      - "${QDRANT_HTTP_PORT}:6333"  # HTTP REST API
      - "${QDRANT_GRPC_PORT}:6334"  # gRPC API
    volumes:
      - ./qdrant_data:/qdrant/storage  # Maps local qdrant_data folder to container storage (default path)
    restart: unless-stopped

  neo4j: # access browser at http://localhost:7474
    image: neo4j:latest
    container_name: neo4j
    ports:
      - "${NEO4J_HTTP_PORT}:7474"  # HTTP interface (Neo4j Browser)
      - "${NEO4J_BOLT_PORT}:7687"  # Bolt protocol (database connections)
    volumes:
      - ./neo4j/data:/data          # Database data
      - ./neo4j/logs:/logs          # Log files
      - ./neo4j/conf:/conf          # Configuration files
      - ./neo4j/import:/import      # Import directory
      - ./neo4j/plugins:/plugins    # Plugins directory
    environment:
      - NEO4J_AUTH=${NEO4J_AUTH}   # Format: username/password
    restart: unless-stopped

  # Web application service (uncomment and configure when ready)
  # webapp:
  #   build: .
  #   # Or use a pre-built image:
  #   # image: your-webapp:latest
  #   container_name: webapp
  #   ports:
  #     - "5000:5000"  # Flask default, or "8501:8501" for Streamlit
  #   volumes:
  #     - ./app:/app
  #   environment:
  #     - FLASK_ENV=development
  #     # Or for Streamlit:
  #     # - STREAMLIT_SERVER_PORT=8501
  #   depends_on:
  #     - qdrant
  #     - neo4j
  #   restart: unless-stopped
